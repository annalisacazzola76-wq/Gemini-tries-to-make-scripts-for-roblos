-- Services
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")

local LocalPlayer = Players.LocalPlayer

-- Cleanup previous GUI
if CoreGui:FindFirstChild("StarBypass") then CoreGui.StarBypass:Destroy() end

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "StarBypass"
pcall(function() ScreenGui.Parent = CoreGui end)
if not ScreenGui.Parent then ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui") end

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 280, 0, 180)
MainFrame.Position = UDim2.new(0.5, -140, 0.4, -90)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.Active = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)

local Stroke = Instance.new("UIStroke", MainFrame)
Stroke.Color = Color3.fromRGB(0, 200, 255) -- Electric Blue
Stroke.Thickness = 2

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "CHAT BYPASS SYSTEM"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

local ChatInput = Instance.new("TextBox", MainFrame)
ChatInput.Size = UDim2.new(0.85, 0, 0, 45)
ChatInput.Position = UDim2.new(0.075, 0, 0.3, 0)
ChatInput.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
ChatInput.PlaceholderText = "Type message here..."
ChatInput.Text = ""
ChatInput.TextColor3 = Color3.fromRGB(255, 255, 255)
ChatInput.Font = Enum.Font.Gotham
Instance.new("UICorner", ChatInput)

local SendBtn = Instance.new("TextButton", MainFrame)
SendBtn.Size = UDim2.new(0.85, 0, 0, 40)
SendBtn.Position = UDim2.new(0.075, 0, 0.65, 0)
SendBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
SendBtn.Text = "SEND BYPASS"
SendBtn.Font = Enum.Font.GothamBlack
SendBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", SendBtn)

--- ADVANCED STAR BYPASS LOGIC ---
local function advancedBypass(text)
    -- Map for Mathematical Italic characters to confuse the AI filter
    local italicMap = {
        ["a"]="ğ˜¢", ["b"]="ğ˜£", ["c"]="ğ˜¤", ["d"]="ğ˜¥", ["e"]="ğ˜¦", ["f"]="ğ˜§", ["g"]="ğ˜¨",
        ["h"]="ğ˜©", ["i"]="ğ˜ª", ["j"]="ğ˜«", ["k"]="ğ˜¬", ["l"]="ğ˜­", ["m"]="ğ˜®", ["n"]="ğ˜¯",
        ["o"]="ğ˜°", ["p"]="ğ˜±", ["q"]="ğ˜²", ["r"]="ğ˜³", ["s"]="ğ˜´", ["t"]="ğ˜µ", ["u"]="ğ˜¶",
        ["v"]="ğ˜·", ["w"]="ğ˜¸", ["x"]="ğ˜¹", ["y"]="ğ˜º", ["z"]="ğ˜»",
        ["A"]="ğ˜ˆ", ["B"]="ğ˜‰", ["C"]="ğ˜Š", ["D"]="ğ˜‹", ["E"]="ğ˜Œ", ["F"]="ğ˜", ["G"]="ğ˜",
        ["H"]="ğ˜", ["I"]="ğ˜", ["J"]="ğ˜‘", ["K"]="ğ˜’", ["L"]="ğ˜“", ["M"]="ğ˜”", ["N"]="ğ˜•",
        ["O"]="ğ˜–", ["P"]="ğ˜—", ["Q"]="ğ˜˜", ["R"]="ğ˜™", ["S"]="ğ˜š", ["T"]="ğ˜›", ["U"]="ğ˜œ",
        ["V"]="ğ˜", ["W"]="ğ˜", ["X"]="ğ˜Ÿ", ["Y"]="ğ˜ ", ["Z"]="ğ˜¡"
    }

    local bypassed = " . " -- Prefix to confuse the start of the string
    for i = 1, #text do
        local char = text:sub(i,i)
        local mappedChar = italicMap[char] or char
        
        if char ~= " " then
            -- Adds a star and an invisible separator after each letter
            bypassed = bypassed .. mappedChar .. " * "
        else
            bypassed = bypassed .. "   " 
        end
    end
    return bypassed
end

local function send(msg)
    local events = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
    local remote = events and events:FindFirstChild("SayMessageRequest")
    if remote then
        remote:FireServer(msg, "All")
    else
        local channel = TextChatService:FindFirstChild("TextChannels") and TextChatService.TextChannels:FindFirstChild("RBXGeneral")
        if channel then
            channel:SendAsync(msg)
        end
    end
end

SendBtn.MouseButton1Click:Connect(function()
    if ChatInput.Text ~= "" then
        send(advancedBypass(ChatInput.Text))
        ChatInput.Text = ""
    end
end)

--- Mobile Dragging Logic ---
local dragging, dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true; dragStart = input.Position; startPos = MainFrame.Position
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = false end
end)
